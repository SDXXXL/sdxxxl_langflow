<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>langsmith - v0.4.10 | langchain.js</title><meta name="description" content="Documentation for langchain.js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script><!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MBBX68ST');</script>
<!-- End Google Tag Manager --></head><body><!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MBBX68ST"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">langchain.js</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">langsmith</a></li></ul><h1>Module langsmith - v0.4.10</h1></div><section class="tsd-panel tsd-typography"><h1 id="langsmith-client-sdk" class="tsd-anchor-link">LangSmith Client SDK<a href="#langsmith-client-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p><img src="https://img.shields.io/npm/v/langsmith?logo=npm" alt="NPM Version">
<a href="https://www.npmjs.com/package/langsmith" target="_blank" class="external"><img src="https://img.shields.io/npm/dm/langsmith" alt="JS Downloads"></a></p>
<p>This package contains the TypeScript client for interacting with the <a href="https://smith.langchain.com/" target="_blank" class="external">LangSmith platform</a>.</p>
<p>To install:</p>
<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">langsmith</span>
</code><button type="button">Copy</button></pre>

<p>LangSmith helps you and your team develop and evaluate language models and intelligent agents. It is compatible with any LLM Application and provides seamless integration with <a href="https://github.com/hwchase17/langchainjs" target="_blank" class="external">LangChain</a>, a widely recognized open-source framework that simplifies the process for developers to create powerful language model applications.</p>
<blockquote>
<p><strong>Note</strong>: You can enjoy the benefits of LangSmith without using the LangChain open-source packages! To get started with your own proprietary framework, set up your account and then skip to <a href="#logging-traces-outside-langchain">Logging Traces Outside LangChain</a>.</p>
</blockquote>
<blockquote>
<p><strong>Cookbook:</strong> For tutorials on how to get more value out of LangSmith, check out the <a href="https://github.com/langchain-ai/langsmith-cookbook/tree/main" target="_blank" class="external">Langsmith Cookbook</a> repo.</p>
</blockquote>
<p>A typical workflow looks like:</p>
<ol>
<li>Set up an account with LangSmith.</li>
<li>Log traces.</li>
<li>Debug, Create Datasets, and Evaluate Runs.</li>
</ol>
<p>We'll walk through these steps in more detail below.</p>
<h2 id="1-connect-to-langsmith" class="tsd-anchor-link">1. Connect to LangSmith<a href="#1-connect-to-langsmith" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Sign up for <a href="https://smith.langchain.com/" target="_blank" class="external">LangSmith</a> using your GitHub, Discord accounts, or an email address and password. If you sign up with an email, make sure to verify your email address before logging in.</p>
<p>Then, create a unique API key on the <a href="https://smith.langchain.com/settings" target="_blank" class="external">Settings Page</a>.</p>
<div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="../assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p>
Save the API Key in a secure location. It will not be shown again.</p>
</div>
<h2 id="2-log-traces" class="tsd-anchor-link">2. Log Traces<a href="#2-log-traces" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can log traces natively in your LangChain application or using a LangSmith RunTree.</p>
<h3 id="logging-traces-with-langchain" class="tsd-anchor-link">Logging Traces with LangChain<a href="#logging-traces-with-langchain" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>LangSmith seamlessly integrates with the JavaScript LangChain library to record traces from your LLM applications.</p>
<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">langchain</span>
</code><button type="button">Copy</button></pre>

<ol>
<li><strong>Copy the environment variables from the Settings Page and add them to your application.</strong></li>
</ol>
<p>Tracing can be activated by setting the following environment variables or by manually specifying the LangChainTracer.</p>
<pre><code class="typescript"><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">.</span><span class="hl-7">LANGSMITH_TRACING</span><span class="hl-1"> = </span><span class="hl-2">&quot;true&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">.</span><span class="hl-7">LANGSMITH_ENDPOINT</span><span class="hl-1"> = </span><span class="hl-2">&quot;https://api.smith.langchain.com&quot;</span><span class="hl-1">;</span><br/><span class="hl-8">// process.env.LANGSMITH_ENDPOINT = &quot;https://eu.api.smith.langchain.com&quot;; // If signed up in the EU region</span><br/><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">.</span><span class="hl-7">LANGSMITH_API_KEY</span><span class="hl-1"> = </span><span class="hl-2">&quot;&lt;YOUR-LANGSMITH-API-KEY&gt;&quot;</span><span class="hl-1">;</span><br/><span class="hl-8">// process.env.LANGSMITH_PROJECT = &quot;My Project Name&quot;; // Optional: &quot;default&quot; is used if not set</span><br/><span class="hl-8">// process.env.LANGSMITH_WORKSPACE_ID = &quot;&lt;YOUR-WORKSPACE-ID&gt;&quot;; // Required for org-scoped API keys</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p><strong>Tip:</strong> Projects are groups of traces. All runs are logged to a project. If not specified, the project is set to <code>default</code>.</p>
</blockquote>
<ol start="2">
<li><strong>Run an Agent, Chain, or Language Model in LangChain</strong></li>
</ol>
<p>If the environment variables are correctly set, your application will automatically connect to the LangSmith platform.</p>
<pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">ChatOpenAI</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langchain/chat_models/openai&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">chat</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">ChatOpenAI</span><span class="hl-1">({ </span><span class="hl-5">temperature:</span><span class="hl-1"> </span><span class="hl-12">0</span><span class="hl-1"> });</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">predict</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;Translate this sentence from English to French. I love programming.&quot;</span><br/><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="logging-traces-outside-langchain" class="tsd-anchor-link">Logging Traces Outside LangChain<a href="#logging-traces-outside-langchain" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can still use the LangSmith development platform without depending on any
LangChain code. You can connect either by setting the appropriate environment variables,
or by directly specifying the connection information in the RunTree.</p>
<ol>
<li><strong>Copy the environment variables from the Settings Page and add them to your application.</strong></li>
</ol>
<pre><code class="shell"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">LANGSMITH_TRACING</span><span class="hl-1">=</span><span class="hl-2">&quot;true&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">LANGSMITH_API_KEY</span><span class="hl-1">=&lt;</span><span class="hl-5">YOUR-LANGSMITH-API-KEY</span><span class="hl-1">&gt;</span><br/><span class="hl-8"># export LANGSMITH_PROJECT=&quot;My Project Name&quot; #  Optional: &quot;default&quot; is used if not set</span><br/><span class="hl-8"># export LANGSMITH_ENDPOINT=https://api.smith.langchain.com # or your own server</span>
</code><button type="button">Copy</button></pre>

<h2 id="integrations" class="tsd-anchor-link">Integrations<a href="#integrations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Langsmith's <code>traceable</code> wrapper function makes it easy to trace any function or LLM call in your own favorite framework. Below are some examples.</p>
<h3 id="openai-sdk" class="tsd-anchor-link">OpenAI SDK<a href="#openai-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><!-- markdown-link-check-disable -->
<p>The easiest way to trace calls from the <a href="https://platform.openai.com/docs/api-reference" target="_blank" class="external">OpenAI SDK</a> with LangSmith
is using the <code>wrapOpenAI</code> wrapper function available in LangSmith 0.1.3 and up.</p>
<p>In order to use, you first need to set your LangSmith API key:</p>
<pre><code class="shell"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">LANGSMITH_TRACING</span><span class="hl-1">=</span><span class="hl-2">&quot;true&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">LANGSMITH_API_KEY</span><span class="hl-1">=&lt;</span><span class="hl-5">your-api-key</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Next, you will need to install the LangSmith SDK and the OpenAI SDK:</p>
<pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">langsmith</span><span class="hl-1"> </span><span class="hl-2">openai</span>
</code><button type="button">Copy</button></pre>

<p>After that, initialize your OpenAI client and wrap the client with <code>wrapOpenAI</code> method to enable tracing for the completions and chat completions methods:</p>
<pre><code class="ts"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">OpenAI</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;openai&quot;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">wrapOpenAI</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langsmith/wrappers&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">openai</span><span class="hl-1"> = </span><span class="hl-0">wrapOpenAI</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">OpenAI</span><span class="hl-1">());</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">openai</span><span class="hl-1">.</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">completions</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gpt-3.5-turbo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">messages:</span><span class="hl-1"> [{ </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&quot;Hi there!&quot;</span><span class="hl-1">, </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;user&quot;</span><span class="hl-1"> }],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Alternatively, you can use the <code>traceable</code> function to wrap the client methods you want to use:</p>
<pre><code class="ts"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">traceable</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langsmith/traceable&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">openai</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">OpenAI</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">createCompletion</span><span class="hl-1"> = </span><span class="hl-0">traceable</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-5">openai</span><span class="hl-1">.</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">completions</span><span class="hl-1">.</span><span class="hl-5">create</span><span class="hl-1">.</span><span class="hl-0">bind</span><span class="hl-1">(</span><span class="hl-5">openai</span><span class="hl-1">.</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">completions</span><span class="hl-1">),</span><br/><span class="hl-1">  { </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;OpenAI Chat Completion&quot;</span><span class="hl-1">, </span><span class="hl-5">run_type:</span><span class="hl-1"> </span><span class="hl-2">&quot;llm&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">createCompletion</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gpt-3.5-turbo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">messages:</span><span class="hl-1"> [{ </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&quot;Hi there!&quot;</span><span class="hl-1">, </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;user&quot;</span><span class="hl-1"> }],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Note the use of <code>.bind</code> to preserve the function's context. The <code>run_type</code> field in the
extra config object marks the function as an LLM call, and enables token usage tracking
for OpenAI.</p>
<p>Oftentimes, you use the OpenAI client inside of other functions or as part of a longer
sequence. You can automatically get nested traces by using this wrapped method
within other functions wrapped with <code>traceable</code>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">nestedTrace</span><span class="hl-1"> = </span><span class="hl-0">traceable</span><span class="hl-1">(</span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-5">text</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">completion</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">openai</span><span class="hl-1">.</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">completions</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gpt-3.5-turbo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">messages:</span><span class="hl-1"> [{ </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-5">text</span><span class="hl-1">, </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;user&quot;</span><span class="hl-1"> }],</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-5">completion</span><span class="hl-1">;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">nestedTrace</span><span class="hl-1">(</span><span class="hl-2">&quot;Why is the sky blue?&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<pre><code><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;chatcmpl-8sPToJQLLVepJvyeTfzZMOMVIKjMo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;object&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;chat.completion&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;created&quot;</span><span class="hl-1">: </span><span class="hl-12">1707978348</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gpt-3.5-turbo-0613&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;choices&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;index&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-12">0</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;message&quot;</span><span class="hl-5">:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;role&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-2">&quot;assistant&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;content&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-2">&quot;The sky appears blue because of a phenomenon known as Rayleigh scattering. The Earth&#39;s atmosphere is composed of tiny molecules, such as nitrogen and oxygen, which are much smaller than the wavelength of visible light. When sunlight interacts with these molecules, it gets scattered in all directions. However, shorter wavelengths of light (blue and violet) are scattered more compared to longer wavelengths (red, orange, and yellow). </span><span class="hl-10">\n\n</span><span class="hl-2">As a result, when sunlight passes through the Earth&#39;s atmosphere, the blue and violet wavelengths are scattered in all directions, making the sky appear blue. This scattering of shorter wavelengths is also responsible for the vibrant colors observed during sunrise and sunset, when the sunlight has to pass through a thicker portion of the atmosphere, causing the longer wavelengths to dominate the scattered light.&quot;</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;logprobs&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">null</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;finish_reason&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-2">&quot;stop&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;usage&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;prompt_tokens&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-12">13</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;completion_tokens&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-12">154</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;total_tokens&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-12">167</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;system_fingerprint&quot;</span><span class="hl-1">: </span><span class="hl-4">null</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>

<p>:::tip
<a href="https://smith.langchain.com/public/4af46ef6-b065-46dc-9cf0-70f1274edb01/r" target="_blank" class="external">Click here</a> to see an example LangSmith trace of the above.
:::</p>
<h2 id="nextjs" class="tsd-anchor-link">Next.js<a href="#nextjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can use the <code>traceable</code> wrapper function in Next.js apps to wrap arbitrary functions much like in the example above.</p>
<p>One neat trick you can use for Next.js and other similar server frameworks is to wrap the entire exported handler for a route
to group traces for the any sub-runs. Here's an example:</p>
<pre><code class="ts"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">NextRequest</span><span class="hl-1">, </span><span class="hl-5">NextResponse</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;next/server&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">OpenAI</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;openai&quot;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">traceable</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langsmith/traceable&quot;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">wrapOpenAI</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langsmith/wrappers&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">runtime</span><span class="hl-1"> = </span><span class="hl-2">&quot;edge&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">handler</span><span class="hl-1"> = </span><span class="hl-0">traceable</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> () {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">openai</span><span class="hl-1"> = </span><span class="hl-0">wrapOpenAI</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">OpenAI</span><span class="hl-1">());</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">completion</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">openai</span><span class="hl-1">.</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">completions</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gpt-3.5-turbo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">messages:</span><span class="hl-1"> [{ </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&quot;Why is the sky blue?&quot;</span><span class="hl-1">, </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;user&quot;</span><span class="hl-1"> }],</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">response1</span><span class="hl-1"> = </span><span class="hl-5">completion</span><span class="hl-1">.</span><span class="hl-5">choices</span><span class="hl-1">[</span><span class="hl-12">0</span><span class="hl-1">].</span><span class="hl-5">message</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">completion2</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">openai</span><span class="hl-1">.</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">completions</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gpt-3.5-turbo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">messages:</span><span class="hl-1"> [</span><br/><span class="hl-1">        { </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&quot;Why is the sky blue?&quot;</span><span class="hl-1">, </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;user&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-5">response1</span><span class="hl-1">, </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;assistant&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&quot;Cool thank you!&quot;</span><span class="hl-1">, </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;user&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">response2</span><span class="hl-1"> = </span><span class="hl-5">completion2</span><span class="hl-1">.</span><span class="hl-5">choices</span><span class="hl-1">[</span><span class="hl-12">0</span><span class="hl-1">].</span><span class="hl-5">message</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">text:</span><span class="hl-1"> </span><span class="hl-5">response2</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Simple Next.js handler&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-0">POST</span><span class="hl-1">(</span><span class="hl-5">req</span><span class="hl-1">: </span><span class="hl-9">NextRequest</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">handler</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-5">NextResponse</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">(</span><span class="hl-5">result</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>The two OpenAI calls within the handler will be traced with appropriate inputs, outputs,
and token usage information.</p>
<p>:::tip
<a href="https://smith.langchain.com/public/faaf26ad-8c59-4622-bcfe-b7d896733ca6/r" target="_blank" class="external">Click here</a> to see an example LangSmith trace of the above.
:::</p>
<h2 id="vercel-ai-sdk" class="tsd-anchor-link">Vercel AI SDK<a href="#vercel-ai-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <a href="https://sdk.vercel.ai/docs" target="_blank" class="external">Vercel AI SDK</a> contains integrations with a variety of model providers.
Here's an example of how you can trace outputs in a Next.js handler:</p>
<pre><code class="ts"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">traceable</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langsmith/traceable&quot;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">OpenAIStream</span><span class="hl-1">, </span><span class="hl-5">StreamingTextResponse</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;ai&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-8">// Note: There are no types for the Mistral API client yet.</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-5">MistralClient</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@mistralai/mistralai&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">client</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">MistralClient</span><span class="hl-1">(</span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">.</span><span class="hl-7">MISTRAL_API_KEY</span><span class="hl-1"> || </span><span class="hl-2">&quot;&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-0">POST</span><span class="hl-1">(</span><span class="hl-5">req</span><span class="hl-1">: </span><span class="hl-9">Request</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-8">// Extract the `messages` from the body of the request</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">messages</span><span class="hl-1"> } = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">req</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">mistralChatStream</span><span class="hl-1"> = </span><span class="hl-0">traceable</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">chatStream</span><span class="hl-1">.</span><span class="hl-0">bind</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">), {</span><br/><span class="hl-1">    </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Mistral Stream&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">run_type:</span><span class="hl-1"> </span><span class="hl-2">&quot;llm&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">mistralChatStream</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;mistral-tiny&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">maxTokens:</span><span class="hl-1"> </span><span class="hl-12">1000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">messages</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-8">// Convert the response into a friendly text-stream. The Mistral client responses are</span><br/><span class="hl-1">  </span><span class="hl-8">// compatible with the Vercel AI SDK OpenAIStream adapter.</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">stream</span><span class="hl-1"> = </span><span class="hl-0">OpenAIStream</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1"> </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-9">any</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-8">// Respond with the stream</span><br/><span class="hl-1">  </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">StreamingTextResponse</span><span class="hl-1">(</span><span class="hl-5">stream</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>See the <a href="https://sdk.vercel.ai/docs" target="_blank" class="external">AI SDK docs</a> for more examples.</p>
<h2 id="arbitrary-sdks" class="tsd-anchor-link">Arbitrary SDKs<a href="#arbitrary-sdks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can use the generic <code>wrapSDK</code> method to add tracing for arbitrary SDKs.</p>
<p>Do note that this will trace ALL methods in the SDK, not just chat completion endpoints.
If the SDK you are wrapping has other methods, we recommend using it for only LLM calls.</p>
<p>Here's an example using the Anthropic SDK:</p>
<pre><code class="ts"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">wrapSDK</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langsmith/wrappers&quot;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">Anthropic</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@anthropic-ai/sdk&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">originalSDK</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Anthropic</span><span class="hl-1">();</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">sdkWithTracing</span><span class="hl-1"> = </span><span class="hl-0">wrapSDK</span><span class="hl-1">(</span><span class="hl-5">originalSDK</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">sdkWithTracing</span><span class="hl-1">.</span><span class="hl-5">messages</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">messages:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&quot;user&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">`What is 1 + 1? Respond only with &quot;2&quot; and nothing else.`</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;claude-3-sonnet-20240229&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">max_tokens:</span><span class="hl-1"> </span><span class="hl-12">1024</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>:::tip
<a href="https://smith.langchain.com/public/0e7248af-bbed-47cf-be9f-5967fea1dec1/r" target="_blank" class="external">Click here</a> to see an example LangSmith trace of the above.
:::</p>
<h4 id="alternatives-log-traces-using-a-runtree" class="tsd-anchor-link">Alternatives: <strong>Log traces using a RunTree.</strong><a href="#alternatives-log-traces-using-a-runtree" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>A RunTree tracks your application. Each RunTree object is required to have a name and run_type. These and other important attributes are as follows:</p>
<ul>
<li><code>name</code>: <code>string</code> - used to identify the component's purpose</li>
<li><code>run_type</code>: <code>string</code> - Currently one of &quot;llm&quot;, &quot;chain&quot; or &quot;tool&quot;; more options will be added in the future</li>
<li><code>inputs</code>: <code>Record&lt;string, any&gt;</code> - the inputs to the component</li>
<li><code>outputs</code>: <code>Optional&lt;Record&lt;string, any&gt;&gt;</code> - the (optional) returned values from the component</li>
<li><code>error</code>: <code>Optional&lt;string&gt;</code> - Any error messages that may have arisen during the call</li>
</ul>
<pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">RunTree</span><span class="hl-1">, </span><span class="hl-5">RunTreeConfig</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langsmith&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">parentRunConfig</span><span class="hl-1">: </span><span class="hl-9">RunTreeConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;My Chat Bot&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">run_type:</span><span class="hl-1"> </span><span class="hl-2">&quot;chain&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">inputs:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">text:</span><span class="hl-1"> </span><span class="hl-2">&quot;Summarize this morning&#39;s meetings.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">serialized:</span><span class="hl-1"> {}, </span><span class="hl-8">// Serialized representation of this chain</span><br/><span class="hl-1">  </span><span class="hl-8">// project_name: &quot;Defaults to the LANGSMITH_PROJECT env var&quot;</span><br/><span class="hl-1">  </span><span class="hl-8">// apiUrl: &quot;Defaults to the LANGSMITH_ENDPOINT env var&quot;</span><br/><span class="hl-1">  </span><span class="hl-8">// apiKey: &quot;Defaults to the LANGSMITH_API_KEY env var&quot;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">parentRun</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">RunTree</span><span class="hl-1">(</span><span class="hl-5">parentRunConfig</span><span class="hl-1">);</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">parentRun</span><span class="hl-1">.</span><span class="hl-0">postRun</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">childLlmRun</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">parentRun</span><span class="hl-1">.</span><span class="hl-0">createChild</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;My Proprietary LLM&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">run_type:</span><span class="hl-1"> </span><span class="hl-2">&quot;llm&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">inputs:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">prompts:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;You are an AI Assistant. The time is XYZ.&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-2">&quot; Summarize this morning&#39;s meetings.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childLlmRun</span><span class="hl-1">.</span><span class="hl-0">postRun</span><span class="hl-1">();</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childLlmRun</span><span class="hl-1">.</span><span class="hl-0">end</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">outputs:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">generations:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;I should use the transcript_loader tool&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-2">&quot; to fetch meeting_transcripts from XYZ&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childLlmRun</span><span class="hl-1">.</span><span class="hl-0">patchRun</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">childToolRun</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">parentRun</span><span class="hl-1">.</span><span class="hl-0">createChild</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;transcript_loader&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">run_type:</span><span class="hl-1"> </span><span class="hl-2">&quot;tool&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">inputs:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">date:</span><span class="hl-1"> </span><span class="hl-2">&quot;XYZ&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">content_type:</span><span class="hl-1"> </span><span class="hl-2">&quot;meeting_transcripts&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childToolRun</span><span class="hl-1">.</span><span class="hl-0">postRun</span><span class="hl-1">();</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childToolRun</span><span class="hl-1">.</span><span class="hl-0">end</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">outputs:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">meetings:</span><span class="hl-1"> [</span><span class="hl-2">&quot;Meeting1 notes..&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childToolRun</span><span class="hl-1">.</span><span class="hl-0">patchRun</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">childChainRun</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">parentRun</span><span class="hl-1">.</span><span class="hl-0">createChild</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Unreliable Component&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">run_type:</span><span class="hl-1"> </span><span class="hl-2">&quot;tool&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">inputs:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">input:</span><span class="hl-1"> </span><span class="hl-2">&quot;Summarize these notes...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childChainRun</span><span class="hl-1">.</span><span class="hl-0">postRun</span><span class="hl-1">();</span><br/><br/><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">// .... the component does work</span><br/><span class="hl-1">  </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&quot;Something went wrong&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-5">e</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childChainRun</span><span class="hl-1">.</span><span class="hl-0">end</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">error:</span><span class="hl-1"> </span><span class="hl-2">`I errored again </span><span class="hl-4">${</span><span class="hl-5">e</span><span class="hl-11">.</span><span class="hl-5">message</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childChainRun</span><span class="hl-1">.</span><span class="hl-0">patchRun</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-5">e</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">childChainRun</span><span class="hl-1">.</span><span class="hl-0">patchRun</span><span class="hl-1">();</span><br/><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">parentRun</span><span class="hl-1">.</span><span class="hl-0">end</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">outputs:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">output:</span><span class="hl-1"> [</span><span class="hl-2">&quot;The meeting notes are as follows:...&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-8">// False directs to not exclude child runs</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">parentRun</span><span class="hl-1">.</span><span class="hl-0">patchRun</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="evaluation" class="tsd-anchor-link">Evaluation<a href="#evaluation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h4 id="create-a-dataset-from-existing-runs" class="tsd-anchor-link">Create a Dataset from Existing Runs<a href="#create-a-dataset-from-existing-runs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Once your runs are stored in LangSmith, you can convert them into a dataset.
For this example, we will do so using the Client, but you can also do this using
the web interface, as explained in the <a href="https://docs.smith.langchain.com/docs/" target="_blank" class="external">LangSmith docs</a>.</p>
<pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-5">Client</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;langsmith/client&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">client</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Client</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-8">// apiUrl: &quot;https://api.langchain.com&quot;, // Defaults to the LANGSMITH_ENDPOINT env var</span><br/><span class="hl-1">  </span><span class="hl-8">// apiKey: &quot;my_api_key&quot;, // Defaults to the LANGSMITH_API_KEY env var</span><br/><span class="hl-1">  </span><span class="hl-8">/* callerOptions: {</span><br/><span class="hl-8">         maxConcurrency?: Infinity; // Maximum number of concurrent requests to make</span><br/><span class="hl-8">         maxRetries?: 6; // Maximum number of retries to make</span><br/><span class="hl-8">    */</span><br/><span class="hl-1">});</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">datasetName</span><span class="hl-1"> = </span><span class="hl-2">&quot;Example Dataset&quot;</span><span class="hl-1">;</span><br/><span class="hl-8">// We will only use examples from the top level AgentExecutor run here,</span><br/><span class="hl-8">// and exclude runs that errored.</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">runs</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-0">listRuns</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">projectName:</span><span class="hl-1"> </span><span class="hl-2">&quot;my_project&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">executionOrder:</span><span class="hl-1"> </span><span class="hl-12">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">error:</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">dataset</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-0">createDataset</span><span class="hl-1">(</span><span class="hl-5">datasetName</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;An example dataset&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">for</span><span class="hl-1"> (</span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">run</span><span class="hl-1"> </span><span class="hl-4">of</span><span class="hl-1"> </span><span class="hl-5">runs</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-0">createExample</span><span class="hl-1">(</span><span class="hl-5">run</span><span class="hl-1">.</span><span class="hl-5">inputs</span><span class="hl-1">, </span><span class="hl-5">run</span><span class="hl-1">.</span><span class="hl-5">outputs</span><span class="hl-1"> ?? {}, {</span><br/><span class="hl-1">    </span><span class="hl-5">datasetId:</span><span class="hl-1"> </span><span class="hl-5">dataset</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="additional-documentation" class="tsd-anchor-link">Additional Documentation<a href="#additional-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To learn more about the LangSmith platform, check out the <a href="https://docs.smith.langchain.com/docs/" target="_blank" class="external">docs</a>.</p>
</section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Modules"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Modules</h2></summary><dl class="tsd-member-summaries"><dt class="tsd-member-summary" id="anonymizer"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.anonymizer.html">anonymizer</a><a href="#anonymizer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="client"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.client.html">client</a><a href="#client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="evaluation-1"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.evaluation.html">evaluation</a><a href="#evaluation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="experimentalanthropic"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.experimental_anthropic.html">experimental/anthropic</a><a href="#experimentalanthropic" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="experimentalotelexporter"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.experimental_otel_exporter.html">experimental/otel/exporter</a><a href="#experimentalotelexporter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="experimentalotelprocessor"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.experimental_otel_processor.html">experimental/otel/processor</a><a href="#experimentalotelprocessor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="experimentalotelsetup"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.experimental_otel_setup.html">experimental/otel/setup</a><a href="#experimentalotelsetup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="experimentalvercel"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.experimental_vercel.html">experimental/vercel</a><a href="#experimentalvercel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="jest"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.jest.html">jest</a><a href="#jest" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="jestreporter"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.jest_reporter.html">jest/reporter</a><a href="#jestreporter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="langchain"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.langchain.html">langchain</a><a href="#langchain" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="run_trees"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.run_trees.html">run_trees</a><a href="#run_trees" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="schemas"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.schemas.html">schemas</a><a href="#schemas" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="singletonstraceable"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.singletons_traceable.html">singletons/traceable</a><a href="#singletonstraceable" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="traceable"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.traceable.html">traceable</a><a href="#traceable" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="utilsjestlike"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.utils_jestlike.html">utils/jestlike</a><a href="#utilsjestlike" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="vitest"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.vitest.html">vitest</a><a href="#vitest" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="vitestreporter"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.vitest_reporter.html">vitest/reporter</a><a href="#vitestreporter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="wrappers"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.wrappers.html">wrappers</a><a href="#wrappers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="wrappersanthropic"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.wrappers_anthropic.html">wrappers/anthropic</a><a href="#wrappersanthropic" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="wrappersopenai"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><a href="langsmith.wrappers_openai.html">wrappers/openai</a><a href="#wrappersopenai" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd></dl></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#langsmith-client-sdk"><span>Lang<wbr/>Smith <wbr/>Client <wbr/>SDK</span></a><ul><li><a href="#1-connect-to-langsmith"><span>1. <wbr/>Connect to <wbr/>Lang<wbr/>Smith</span></a></li><li><a href="#2-log-traces"><span>2. <wbr/>Log <wbr/>Traces</span></a></li><li><ul><li><a href="#logging-traces-with-langchain"><span>Logging <wbr/>Traces with <wbr/>Lang<wbr/>Chain</span></a></li><li><a href="#logging-traces-outside-langchain"><span>Logging <wbr/>Traces <wbr/>Outside <wbr/>Lang<wbr/>Chain</span></a></li></ul></li><li><a href="#integrations"><span>Integrations</span></a></li><li><ul><li><a href="#openai-sdk"><span>Open<wbr/>AI <wbr/>SDK</span></a></li></ul></li><li><a href="#nextjs"><span>Next.js</span></a></li><li><a href="#vercel-ai-sdk"><span>Vercel <wbr/>AI <wbr/>SDK</span></a></li><li><a href="#arbitrary-sdks"><span>Arbitrary <wbr/>SD<wbr/>Ks</span></a></li><li><ul><li><ul><li><a href="#alternatives-log-traces-using-a-runtree"><span>Alternatives: <wbr/>Log traces using a <wbr/>Run<wbr/>Tree.</span></a></li></ul></li></ul></li><li><a href="#evaluation"><span>Evaluation</span></a></li><li><ul><li><ul><li><a href="#create-a-dataset-from-existing-runs"><span>Create a <wbr/>Dataset from <wbr/>Existing <wbr/>Runs</span></a></li></ul></li></ul></li><li><a href="#additional-documentation"><span>Additional <wbr/>Documentation</span></a></li></ul><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Modules"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Modules</summary><div><a href="#anonymizer"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>anonymizer</span></a><a href="#client"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>client</span></a><a href="#evaluation-1"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>evaluation</span></a><a href="#experimentalanthropic"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>experimental/anthropic</span></a><a href="#experimentalotelexporter"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>experimental/otel/exporter</span></a><a href="#experimentalotelprocessor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>experimental/otel/processor</span></a><a href="#experimentalotelsetup"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>experimental/otel/setup</span></a><a href="#experimentalvercel"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>experimental/vercel</span></a><a href="#jest"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>jest</span></a><a href="#jestreporter"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>jest/reporter</span></a><a href="#langchain"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>langchain</span></a><a href="#run_trees"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>run_<wbr/>trees</span></a><a href="#schemas"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>schemas</span></a><a href="#singletonstraceable"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>singletons/traceable</span></a><a href="#traceable"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>traceable</span></a><a href="#utilsjestlike"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>utils/jestlike</span></a><a href="#vitest"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>vitest</span></a><a href="#vitestreporter"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>vitest/reporter</span></a><a href="#wrappers"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>wrappers</span></a><a href="#wrappersanthropic"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>wrappers/anthropic</span></a><a href="#wrappersopenai"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Module"><use href="../assets/icons.svg#icon-2"></use></svg><span>wrappers/openai</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">langchain.js</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>